<window id="mainwindow" controller="script, shortcut" steal-focus="true" script="%skin/ui.js" flow="column" background="#142D3B">
  <editor/>

  <image multiply="#3E4556" absolute="true" x="0" y="0" width="100%" height="16px" flow="row">
    <node width="100%"/>
    <image
        src="%skin/mainmenu.png"
        controller="button"
        click="ToggleUI id=filtermenu, hide=sidebar"
        slice="15 15 1 1"
        width="70px"
        height="100%"
        padding="16"
        up-multiply="rgb{100,170,255}"
        down-multiply="rgb{50,85,128}"
        hover-multiply="rgb{130,200,255}">
      <span text="Filters"/>
    </image>
    <image
        src="%skin/mainmenu.png"
        controller="button"
        click="ToggleUI id=filemenu, hide=sidebar"
        slice="15 15 1 1"
        width="150px"
        height="100%"
        padding="16"
        up-multiply="rgb{255,255,255}"
        down-multiply="rgb{200,200,200}"
        hover-multiply="rgb{255,255,255}">
      <span text="Main Menu"/>
    </image>
  </image>

  <image
      id="layersidebar"
      class="sidebar"
      multiply="rgba{0,0,0,64}"
      width="200px"
      height="100%-16px"
      absolute="true"
      x="100%-100%"
      y="16px"
      visible="false"
      overflow-hidden="true">
    <node controller="layerlist" width="200px"/>
  </image>

  <node id="filtermenu" x="0" y="0" width="100%" height="100%" absolute="true" visible="false" class="sidebar">
    <image controller="filterlist"
           multiply="#224970"
           width="221px"
           x="100%-100%"
           y="16px"
           absolute="true"
           id="filtercontainer">
    </image>
  </node>

  <node id="filemenu" x="0" y="0" width="100%" height="100%" absolute="true" visible="false" class="sidebar">
    <image multiply="#576D70" height="100%-16px" width="151px" x="100%-100%" y="16px" absolute="true" id="filemenucontainer">

      <menubutton id="newbutton" label="New"/>
      <menubutton id="openbutton" label="Open"/>
      <menubutton id="savebutton" label="Save"/>
      <menubutton id="saveAsbutton" label="Save As..."/>
      <menubutton id="exportbutton" label="Export..."/>
      <menubutton id="quitbutton" label="Quit"/>
      <image height="1px" multiply="rgba{0,0,0,128}"/>
      <span text="Tool Settings" height="16px" margin="0 10 0 0" align="0"/>
      <node controller="metamenu" id="toolconfigmenu" padding="0 10 0 0"/>
      <node height="100%"/>

      <node height="94px" padding="0 30 0 0">
        <image src="%appdata/icon.png" y="0" x="50%-50%" width="64px" height="64px" fit="cover" absolute="true"/>
      </node>

      <span id="greeting" height="26px">Hello, ${username}!</span>
    </image>
  </node>

  <node controller="focusfront,toolbox" id="toolbox" absolute="true" height="260px" width="40px" x="0" y="50%-50%" flow="column" />

</window>
